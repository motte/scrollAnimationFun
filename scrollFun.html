<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8"> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=500" />
	<meta name="keywords" content="Michael Otte, scrolling, attaching, scrollbar, tween, tweenmax" />
	<meta name="author"	content="Michael Otte (www.michaelotte.com)" />
	<title>Scroll Animation Fun - Michael Otte</title>

	<script type="text/javascript" src="js/jquery.min.js"></script>
 	<script type="text/javascript" src="js/modernizr.custom.min.js"></script>

	<link rel="stylesheet" href="css/styles.css" type="text/css">
	<script type="text/javascript" src="js/TweenMax.min.js"></script>
	<script type="text/javascript" src="js/ScrollMagic.min.js"></script>
	<script type="text/javascript" src="js/animation.gsap.min.js"></script>
<!--	<script type="text/javascript" src="js/debug.addIndicators.min.js"></script>-->
</head>
<body>
	<section id="bezier" style="height: 1300px; margin-top: 300px;">
		<div class="" id="trigger"></div>
		<div id="target">
			<svg version="1.1" id="plane" height="80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 595.28 841.89" xml:space="preserve">
			<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="-2533.9561" y1="353.4453" x2="-2525.7705" y2="384.7265" gradientTransform="matrix(-1 0 0 1 -2483.1641 0)">
				<stop  offset="0" style="stop-color:#AB1F24"/>
				<stop  offset="0.2721" style="stop-color:#B61F25"/>
				<stop  offset="1" style="stop-color:#CF2028"/>
			</linearGradient>
			<path fill="url(#SVGID_1_)" d="M51.524,349.021c0,0-17.652,17.108-27.346,45.591c5.699,9.976,19.372,2.003,19.372,2.003
				l23.942-46.449L51.524,349.021z"/>
			<path fill="#009BFF" d="M23.153,431.531c-0.014,0.328-0.038,0.658-0.038,0.949c0,0,1.459,19.576,6.478,30.256
				c0.435,1.258,1.474,3.807,3.03,4.145c0.8,0.051,1.429-0.076,1.981-0.285c1.19-0.367,2.229-1.293,2.334-2.826
				c0-0.023,0-0.047,0-0.047s0.793-11.436,4.04-21.631c8.631-22.933,24.967-32.043,37.114-35.639c5.385-1.37,11.369-2.215,17.577-2.169
				c67.003,3.186,61.379,76.555,61.379,76.555H409.74c5.4,0.141,5.415-9.135,5.415-9.135c1.989-53.283,31.76-70.577,61.805-68.879
				c43.247,3.215,54.386,35.707,57.183,54.295c0.449,3.561,0.771,7.293,0.891,11.279c0,0.158,0.029,0.299,0.051,0.457
				c-0.014,0.748-0.021,1.152-0.021,1.152c0.875,4.166,6.994,1.877,6.994,1.877s0-0.084,0-0.225c1.24-0.412,2.678-0.996,4.367-1.826
				c13.449-3.508,21.049-15.303,23.883-34.667c0.914-13.763-1.248-25.597-5.58-35.791c-2.348-8.766-9.268-28.072-25.438-34.922
				c-1.924-0.562-3.441-0.517-4.652-0.084c-34.691-23.627-82.015-26.934-82.015-26.934s-57.729-54.422-124.036-73.346
				c-20.658-6.732-45.461-10.442-99.974-10.21c-65.178,1.4-106.465,15.544-106.465,15.544c-5.55,3.013-3.935,3.95-3.935,3.95
				l1.871,0.927c3.006,1.398,4.637,2.782,1.151,5.325c-18.564,13.456-46.86,49.404-46.86,49.404l-11.16,0.336
				c-4.42,4.868-14.338,21.465-14.338,21.465s0,0,0,0.937c0,0.388,0.179,0.612,0.359,0.739l-0.03,0.486l10.547,0.502
				c0.09,0.628-0.441,1.6-1.616,3.134c-5.564,6.717-21.332,36.651-21.332,36.651c-0.449,0.927-1.391,0.703-1.391,0.703l-8.108-1.863
				c-1.406-0.248-2.558,0.224-2.558,0.224c-5.565,11.603-4.173,30.166-1.631,38.042C23.139,430.754,23.139,431.135,23.153,431.531z
				 M58.794,352.754l-1.497-0.066h0.629C58.263,352.688,58.532,352.726,58.794,352.754z M538.803,373.211
				c7.254,0.135,17.449,13.928,19.768,27.369c1.721,10.097-0.791,16.238-5.221,15.76c-4.338-0.442-10.727-6.589-14.748-16.523
				C533.273,386.742,531.758,373.084,538.803,373.211z M228.261,331.213l1.264-14.659l3.067-35.724c0,0,3.613-2.244,11.863-2.244
				c0,0,34.623-0.066,60.72,4.062c0,0,32.836,4.833,77.55,36.35c7.883,5.566,16.148,11.947,24.668,19.306
				c10.06,9.612,6.312,8.55-5.565,8.092l-167.5-9.11C234.327,337.286,228.261,337.168,228.261,331.213z M119.76,328.969
				c0,0,5.678-9.746,14.497-20.284c5.691-6.777,12.7-13.89,20.367-18.902c10.09-5.945,23.12-10.247,49.216-10.709
				c0,0,2.378,1.443,0.913,5.481c0,0-3.964,14.982-6.687,29.889c-0.912,4.938-1.69,9.867-2.14,14.22
				c-1.368,6.41,0.225,8.729-9.843,7.823l-64.25-2.961C121.833,333.525,119.319,333.092,119.76,328.969z"/>
			<g>
				<path fill="#14171B" d="M421.872,464.18c0,29.201,23.696,52.904,52.927,52.904c29.201,0,52.896-23.703,52.896-52.904
					c0-29.238-23.695-52.927-52.896-52.927C445.568,411.253,421.872,434.941,421.872,464.18z M442.891,464.164
					c0-17.613,14.271-31.893,31.908-31.893c17.592,0,31.895,14.279,31.895,31.893c0,17.615-14.303,31.895-31.895,31.895
					C457.162,496.059,442.891,481.779,442.891,464.164z"/>
				<path fill="#14171B" d="M474.799,452.355c6.508,0,11.795,5.287,11.795,11.809c0,6.516-5.287,11.812-11.795,11.812
					c-6.545,0-11.833-5.297-11.833-11.812C462.966,457.643,468.254,452.355,474.799,452.355z"/>
			</g>
			<g>
				<path fill="#14171B" d="M41.292,464.18c0,29.201,23.688,52.904,52.911,52.904c29.215,0,52.919-23.703,52.919-52.904
					c0-29.238-23.704-52.927-52.919-52.927C64.979,411.253,41.292,434.941,41.292,464.18z M62.324,464.164
					c0-17.613,14.271-31.893,31.878-31.893c17.637,0,31.901,14.279,31.901,31.893c0,17.615-14.264,31.895-31.901,31.895
					C76.596,496.059,62.324,481.779,62.324,464.164z"/>
				<path fill="#14171B" d="M94.203,452.355c6.537,0,11.818,5.287,11.818,11.809c0,6.516-5.281,11.812-11.818,11.812
					c-6.493,0-11.795-5.297-11.795-11.812C82.407,457.643,87.71,452.355,94.203,452.355z"/>
			</g>
			<path fill="#007DDD" d="M424.895,419.167c-3.187,3.532-6.717,9.912-6.717,9.912H149.926c0,0-2.304-6.38-5.505-9.912
				C158.513,419.167,415.081,419.167,424.895,419.167z"/>
			<path fill="none" stroke="#007DDD" stroke-width="1.2185" stroke-miterlimit="10" d="M422.074,345.096
				c-20.562,75.133-19.146,127.574-19.146,127.574H208.036l17.016-199.147C225.052,273.522,339.865,248.016,422.074,345.096z"/>
			<g>
				<defs>
					<rect id="SVGID_2_" x="197.64" y="198.999" width="142.569" height="142.569"/>
				</defs>
				<clipPath id="SVGID_3_">
					<use xlink:href="#SVGID_2_"  overflow="visible"/>
				</clipPath>
				<g clip-path="url(#SVGID_3_)">
					<g>
						<g>
							<path fill="#FFFFFF" d="M230.781,349.52l-15.055-105.3l81.954-15.912c0,0,31.154-5.77,35.94,21.536
								c4.501,29.211-24.004,34.208-24.004,34.208l-5.401,0.947l2.757,12.197c0,0-16.541,4.446-40.796-3.364
								c-0.371,15.529,13.29,44.062,48.33,35.755c1.473,8.402,2.757,12.197,2.757,12.197L230.781,349.52z"/>
						</g>
					</g>
					<g>
						<g>
							<polygon fill="#E6E6E6" points="230.781,349.52 215.727,244.22 239.141,239.674 255.911,347.271 				"/>
						</g>
					</g>
					<g>
						<g>
							<path fill="#231F20" d="M269.918,256.72c-7.195,0.973-6.928,0.937-14.39,1.945c-0.639-4.726,2.064-8.993,6.038-9.53
								S269.279,251.993,269.918,256.72z"/>
						</g>
					</g>
					<g>
						<g>
							<path fill="#231F20" d="M251.468,259.551c-8.342,2.236-8.033,2.153-16.684,4.471c-1.234-4.607,1.5-9.342,6.106-10.577
								C245.499,252.21,250.234,254.944,251.468,259.551z"/>
						</g>
					</g>
					<g>
						<g>
							<path fill="none" stroke="#808080" stroke-width="1.2185" stroke-miterlimit="10" d="M230.781,349.52l-15.055-105.3
								l81.954-15.912c0,0,31.154-5.77,35.94,21.536c4.501,29.211-24.004,34.208-24.004,34.208l-5.401,0.947l2.757,12.197
								c0,0-16.541,4.446-40.796-3.364c-0.371,15.529,13.29,44.062,48.33,35.755c1.473,8.402,2.757,12.197,2.757,12.197L230.781,349.52
								z"/>
						</g>
					</g>
				</g>
			</g>
			</svg>
		</div>
		
		
		
		<script>
			$(function () { // wait for document ready
				var flightpath = {
					entry : {
						curviness: 1.25,
						autoRotate: true,
						values: [
								{x: 100,	y: -20},
								{x: 300,	y: 10}
							]
					},
					looping : {
						curviness: 1.25,
						autoRotate: true,
						values: [
								{x: 510,	y: 60},
								{x: 620,	y: -60},
								{x: 500,	y: -100},
								{x: 380,	y: 20},
								{x: 500,	y: 60},
								{x: 580,	y: 20},
								{x: 620,	y: 15}
							]
					},
					leave : {
						curviness: 1.25,
						autoRotate: true,
						values: [
								{x: 660,	y: 20},
								{x: 800,	y: 130},
								{x: $(window).width() + 300,	y: -100},
							]
					}
				};
				// init controller
				var controller = new ScrollMagic.Controller();

				// create tween
				var tween = new TimelineMax()
					.add(TweenMax.to($("#plane"), 1.2, {css:{bezier:flightpath.entry}, ease:Power1.easeInOut}))
					.add(TweenMax.to($("#plane"), 2, {css:{bezier:flightpath.looping}, ease:Power1.easeInOut}))
					.add(TweenMax.to($("#plane"), 1, {css:{bezier:flightpath.leave}, ease:Power1.easeInOut}));

				// build scene
			    // duration sets the number of vertical pixels
				var scene = new ScrollMagic.Scene({triggerElement: "#trigger", duration: 800, offset: 100})
								.setPin("#target") // end element
								.setTween(tween)
								// .addIndicators() // add indicators (requires plugin)
								.addTo(controller);
								
				var getJSON = function(url){
					return new Promise(function(resolve, reject){
						var xhr = new XMLHttpRequest();
						xhr.open('get', url, true);
						xhr.responseType = 'json';
						xhr.onload = function() {
							var status = xhr.status;
							if(status == 200) {
								resolve(xhr.response);
							} else {
								reject(status);
							}
						};
						xhr.send();
					});
				}
				var jdata = getJSON("https://api.lever.co/v0/postings/beepi?limit=5&mode=json").then(function(data){
					//success
					for (var i in data){
						console.log(data[i].text);
					}
				}, function(status) {
					// reject error
					alert('something wrong');
				});
				
				
			})
			
			
		</script>
	</section>
	<div class="spacer s_viewport"></div>
</body>
</html>
